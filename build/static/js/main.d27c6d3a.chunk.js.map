{"version":3,"sources":["icon.svg","page/index.js","router.js","index.js"],"names":["App","props","isElectron","window","process","type","state","angleGV","weftDensity","myTheme","header","primaryColor","secondaryColor","highlightColor","backgroundColor","body","panel","global","fontFamily","this","ipcRenderer","on","event","val","tag","name","setState","style","padding","align","gutter","bodyStyle","title","descr","value","suffix","eng","Number","theme","onChange","send","prevState","obj","decimal","dec","negative","min","className","size","addonBefore","addonAfter","width","textAlign","React","Component","Header","Content","MainRouter","Footer","current","curTime","curDate","handleClick","e","key","setInterval","d","moment","format","t","position","zIndex","src","logo","float","display","onClick","selectedKeys","mode","Item","to","marginTop","exact","path","component","IndexPage","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.d27c6d3a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/icon.b2a2ed88.svg\";","import React, { Fragment } from 'react';\r\nimport { Button, Table, Switch, Typography, Row, Col, Tabs, Modal, Input, InputNumber, Drawer, Descriptions, Divider, Popconfirm, Checkbox, Progress, Statistic, Card, Badge } from \"antd\";\r\nimport { LineChartOutlined, TableOutlined, CaretRightOutlined, PauseOutlined } from '@ant-design/icons';\r\nimport NumPad from 'react-numpad';\r\n\r\nimport \"./App.css\";\r\nimport Icon from '@ant-design/icons';\r\nimport { MainRouter } from '../router';\r\n\r\nexport default class App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            angleGV: null,\r\n            weftDensity: null,\r\n        };\r\n        this.myTheme = {\r\n            header: {\r\n                primaryColor: '#263238',\r\n                secondaryColor: '#f9f9f9',\r\n                highlightColor: '#3c8ffe',\r\n                backgroundColor: '#001529',\r\n            },\r\n            body: {\r\n                primaryColor: '#263238',\r\n                secondaryColor: '#32a5f2',\r\n                highlightColor: '#FFC107',\r\n                backgroundColor: '#f9f9f9',\r\n            },\r\n            panel: {\r\n                backgroundColor: '#CFD8DC'\r\n            },\r\n            global: {\r\n                fontFamily: '-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji'\r\n            },\r\n        };\r\n    }\r\n\r\n    isElectron = () => {\r\n        return window && window.process && window.process.type;\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.isElectron()) {\r\n            window.ipcRenderer.on('plcReply', (event, val, tag) => {\r\n                if (tag.name === \"angleGV\") {\r\n                    tag.val = val;\r\n                    this.setState({\r\n                        angleGV: tag\r\n                    });\r\n\r\n                }\r\n                if (tag.name === \"weftDensity\") {\r\n                    tag.val = val;\r\n                    this.setState({\r\n                        weftDensity: tag\r\n                    });\r\n                }\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{ padding: 8 }}>\r\n\r\n                <Row align=\"top\" gutter={[16, 0]}>\r\n                    <Col>\r\n                        <Card bodyStyle={{ padding: \"12px 36px\" }}>\r\n                            <Statistic\r\n                                title={this.state.angleGV === null ? \"--\" : this.state.angleGV.descr}\r\n                                value={this.state.angleGV === null ? \"--\" : this.state.angleGV.val}\r\n                                suffix={<span> {this.state.angleGV === null ? \"--\" : this.state.angleGV.eng}</span>}\r\n                            />\r\n                        </Card>\r\n                    </Col>\r\n                    <Col>\r\n                        <NumPad.Number\r\n                            theme={this.myTheme}\r\n                            onChange={(value) => {\r\n                                if (value !== this.state.weftDensity.val) {\r\n                                    window.ipcRenderer.send(\"plcWrite\", \"weftDensity\", value);\r\n                                }\r\n                                this.setState((prevState) => {\r\n                                    let obj = prevState.weftDensity;\r\n                                    obj.val = value;\r\n                                    return { weftDensity: obj };\r\n                                });\r\n                            }}\r\n                            decimal={this.state.weftDensity === null ? \"--\" : this.state.weftDensity.dec}\r\n                            negative={this.state.weftDensity === null ? \"--\" : this.state.weftDensity.min < 0 ? true : false}\r\n                        >\r\n                            <div className=\"myInput\">\r\n                                <Input size=\"large\"\r\n                                    addonBefore={this.state.weftDensity === null ? \"--\" : this.state.weftDensity.descr}\r\n                                    addonAfter={this.state.weftDensity === null ? \"--\" : this.state.weftDensity.eng}\r\n                                    value={this.state.weftDensity === null ? \"--\" : this.state.weftDensity.val}\r\n                                    style={{ width: \"65%\", textAlign: \"right\" }}\r\n                                />\r\n                            </div>\r\n                        </NumPad.Number>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}","import React from 'react';\r\nimport { HashRouter, Route, Link, Switch, Text } from 'react-router-dom';\r\nimport { Layout, Menu } from 'antd';\r\nimport \"./page/App.css\";\r\nimport logo from './icon.svg';\r\nimport IndexPage from \"./page/index.js\";\r\nimport moment from \"moment\";\r\nconst { Header, Content, Footer } = Layout;\r\nexport class MainRouter extends React.Component {\r\n    state = {\r\n        current: 'overview',\r\n        curTime: null,\r\n        curDate: null,\r\n    };\r\n\r\n    componentDidMount() {\r\n        setInterval(() => {\r\n            let d = moment().format(\"DD.MM.YYYY\");\r\n            let t = moment().format(\"HH:mm:ss\")\r\n            this.setState({\r\n                curTime: t,\r\n                curDate: d\r\n            })\r\n        }, 1000);\r\n    }\r\n\r\n    handleClick = e => {\r\n        //console.log('click ', e);\r\n        this.setState({ current: e.key });\r\n    };\r\n\r\n    render() {\r\n        const { current } = this.state;\r\n        return (\r\n            <HashRouter>\r\n                <Layout>\r\n                    <Header style={{ position: 'fixed', zIndex: 1, width: '100%', padding: 0 }}>\r\n                        <div className=\"logo\">\r\n                            <img src={logo} className=\"App-logo\"></img>\r\n                        </div>\r\n                        <Menu style={{\r\n                            float: 'left', display: 'flex',\r\n                        }} theme='dark' onClick={this.handleClick} selectedKeys={[current]} mode=\"horizontal\">\r\n                            <Menu.Item key=\"overview\" >\r\n                                <Link to=\"/\">ОБЗОР</Link>\r\n                            </Menu.Item>\r\n                            <Menu.Item key=\"control\" >\r\n                                <Link to=\"/control\">УПРАВЛЕНИЕ</Link>\r\n                            </Menu.Item>\r\n                            <Menu.Item key=\"settings\" >\r\n                                <Link to=\"/settings\">НАСТРОЙКИ</Link>\r\n                            </Menu.Item>\r\n                        </Menu>\r\n                        <div className=\"time\">\r\n                            {this.state.curTime} {this.state.curDate}\r\n                        </div>\r\n                    </Header>\r\n                    <Content style={{ marginTop: 64 }}>\r\n                        <Switch>\r\n                            <Route exact path={'/'} component={IndexPage} />\r\n                            <Route exact path={'/control'} component={IndexPage} />\r\n                            <Route exact path={'/settings'} component={IndexPage} />\r\n                        </Switch>\r\n                    </Content>\r\n                </Layout>\r\n            </HashRouter>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport { MainRouter } from \"./router\";\r\n\r\nReactDom.render(  \r\n    <MainRouter/>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}